<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ - Ù…Ø¯Ø§Ø±Ùƒ Ø§Ù„Ù†Ø®Ø¨Ø©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        *{font-family:'Tajawal',sans-serif}
        body{background:linear-gradient(135deg,#0f0a2e 0%,#1a1145 30%,#1e1550 50%,#151040 70%,#0d0825 100%);min-height:100vh}
        .card-glass{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);backdrop-filter:blur(20px)}
        .bounce-in{animation:bounce-in .6s ease-out}
        @keyframes bounce-in{0%{transform:scale(0);opacity:0}50%{transform:scale(1.05)}100%{transform:scale(1);opacity:1}}
        @keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        .animate-in{animation:fadeUp .5s ease forwards}
        .delay-1{animation-delay:.1s;opacity:0}.delay-2{animation-delay:.2s;opacity:0}.delay-3{animation-delay:.3s;opacity:0}

        @keyframes spin-ring{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        @keyframes shimmer{0%{background-position:200% center}100%{background-position:-200% center}}
        @keyframes glow-pulse{0%,100%{box-shadow:0 4px 20px rgba(99,102,241,0.35)}50%{box-shadow:0 8px 32px rgba(99,102,241,0.6)}}

        .btn-primary{background:linear-gradient(135deg,#6366f1,#8b5cf6);transition:all .3s ease}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(99,102,241,0.4)}
        .btn-outline{background:rgba(255,255,255,0.05);border:1.5px solid rgba(255,255,255,0.12);transition:all .3s ease}
        .btn-outline:hover{background:rgba(255,255,255,0.09)}
        .btn-red{background:rgba(239,68,68,0.08);border:1.5px solid rgba(239,68,68,0.25);color:#fca5a5;transition:all .3s ease}
        .btn-red:hover{background:rgba(239,68,68,0.15)}

        @keyframes score-pop{0%{transform:scale(0.5);opacity:0}70%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}
        .score-pop{animation:score-pop .8s cubic-bezier(0.34,1.56,0.64,1) forwards}

        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
        .float{animation:float 3s ease-in-out infinite}
    </style>
</head>
<body class="text-white min-h-screen flex items-center justify-center p-4">

    <div class="max-w-lg w-full">

        <!-- Logo -->
        <div class="text-center mb-6 animate-in delay-1">
            <a href="dashboard.html" style="display:inline-flex;flex-direction:column;align-items:center;gap:8px;text-decoration:none">
                <div style="width:48px;height:48px;border-radius:14px;background:linear-gradient(135deg,#1e1b4b,#2d2564);border:1.5px solid rgba(99,102,241,0.35);display:flex;align-items:center;justify-content:center;position:relative;animation:glow-pulse 3s ease-in-out infinite">
                    <div style="position:absolute;inset:3px;border-radius:10px;border:1.5px solid transparent;border-top-color:rgba(99,102,241,0.8);border-right-color:rgba(139,92,246,0.4);animation:spin-ring 3s linear infinite"></div>
                    <svg viewBox="0 0 36 36" width="24" height="24" fill="none">
                        <path d="M5 26 L5 14 L11.5 20 L18 7 L24.5 20 L31 14 L31 26 Z" stroke="rgba(165,180,252,0.95)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="5" y1="28.5" x2="31" y2="28.5" stroke="rgba(165,180,252,0.7)" stroke-width="2.5" stroke-linecap="round"/>
                        <circle cx="5"  cy="14" r="2.5" fill="#a5b4fc"/>
                        <circle cx="18" cy="7"  r="2.5" fill="#c4b5fd"/>
                        <circle cx="31" cy="14" r="2.5" fill="#a5b4fc"/>
                    </svg>
                </div>
                <div style="font-family:'Cairo',sans-serif;font-size:16px;font-weight:900;background:linear-gradient(110deg,#c7d2fe 0%,#e0e7ff 20%,#818cf8 45%,#c4b5fd 70%,#c7d2fe 100%);background-size:300% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shimmer 5s linear infinite">Ù…Ø¯Ø§Ø±Ùƒ Ø§Ù„Ù†Ø®Ø¨Ø©</div>
            </a>
        </div>

        <!-- Main Card -->
        <div class="card-glass rounded-3xl p-7 bounce-in">

            <!-- Ø¥ÙŠÙ…ÙˆØ¬ÙŠ -->
            <div class="text-center mb-4">
                <div class="text-6xl mb-4 float" id="resultEmoji">ğŸ‰</div>

                <!-- Ø±Ø³Ø§Ù„Ø© ØªØ­ÙÙŠØ²ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ù†ØµØ© -->
                <div class="rounded-2xl p-5 mb-2" id="motivBox" style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2)">
                    <p class="text-base font-bold leading-relaxed text-center" id="motivMsg" style="font-family:'Cairo',sans-serif;color:rgba(196,181,253,0.95)"></p>
                </div>
            </div>

            <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© -->
            <div class="rounded-2xl p-6 mb-4 text-center score-pop" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07)">
                <p class="text-6xl font-black mb-1" id="finalPercentage" style="font-family:'Cairo',sans-serif">0%</p>
                <p class="text-purple-300/40 text-sm mt-1" id="finalScore">0 Ù…Ù† 10 Ø³Ø¤Ø§Ù„</p>
            </div>

            <!-- ØµØ­ / Ø®Ø·Ø£ -->
            <div class="grid grid-cols-2 gap-3 mb-5">
                <div class="rounded-xl p-4 text-center" style="background:rgba(34,197,94,0.07);border:1px solid rgba(34,197,94,0.18)">
                    <p class="text-green-400/60 text-xs mb-1">âœ… ØµØ­ÙŠØ­Ø©</p>
                    <p class="text-4xl font-black text-green-400" id="correctAnswers" style="font-family:'Cairo',sans-serif">0</p>
                </div>
                <div class="rounded-xl p-4 text-center" style="background:rgba(239,68,68,0.07);border:1px solid rgba(239,68,68,0.18)">
                    <p class="text-red-400/60 text-xs mb-1">âŒ Ø®Ø§Ø·Ø¦Ø©</p>
                    <p class="text-4xl font-black text-red-400" id="wrongAnswers" style="font-family:'Cairo',sans-serif">0</p>
                </div>
            </div>

            <!-- Ø¯Ø¹ÙˆØ© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© -->
            <p class="text-center text-xs mb-3" style="font-family:'Tajawal';color:rgba(196,181,253,0.45);letter-spacing:.5px">
                Ø­ÙÙ‘Ø² Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ ÙˆØ´Ø§Ø±ÙƒÙ‡Ù… Ø¥Ù†Ø¬Ø§Ø²Ùƒ ğŸ”¥
            </p>

            <!-- Ø²Ø± Ø´Ø§Ø±Ùƒ â€” Ø§Ù„Ø£Ø¨Ø±Ø² -->
            <button onclick="goShare()" class="w-full py-4 rounded-2xl font-black text-lg text-white mb-3"
              style="background:linear-gradient(135deg,#818cf8,#6366f1,#8b5cf6);border:none;cursor:pointer;font-family:'Cairo',sans-serif;box-shadow:0 8px 28px rgba(99,102,241,0.45)">
                ğŸ“¸ Ø´Ø§Ø±Ùƒ Ø¥Ù†Ø¬Ø§Ø²Ùƒ
            </button>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø«Ø§Ù†ÙˆÙŠØ© -->
            <div class="grid grid-cols-2 gap-2 mb-2">
                <button onclick="reviewMistakes()" class="btn-red py-3 rounded-xl font-bold text-sm">ğŸ“– Ø±Ø§Ø¬Ø¹ Ø£Ø®Ø·Ø§Ø¦Ùƒ</button>
                <button onclick="tryAgain()" class="btn-primary py-3 rounded-xl font-bold text-sm text-white">ğŸ”„ ØªØ¯Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©</button>
            </div>
            <button onclick="goToDashboard()" class="btn-outline w-full py-3 rounded-xl font-bold text-sm text-white">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>

        </div>

        <p class="text-center text-purple-200/15 text-xs mt-5" style="font-family:'Tajawal'">ğŸ’ª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ù…Ø³ØªÙ…Ø± Ù‡Ùˆ Ø³Ø± Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ†</p>
    </div>

    <script>
        const results = JSON.parse(localStorage.getItem('quiz_results') || '{}');
        const correct = results.correct || 0;
        const wrong   = results.wrong   || 0;
        const total   = results.total   || 10;
        const pct     = results.percentage || 0;

        const msgs = {
            perfect:  { e:'ğŸ†', t:'rgba(74,222,128,0.95)',  bg:'rgba(74,222,128,0.08)',  bd:'rgba(74,222,128,0.2)',
                m:'ÙˆØ§Ù„Ù„Ù‡ Ø£Ø¨Ù‡Ø±ØªÙ†ÙŠ â€” '+pct+'% Ù‡Ø°Ø§ Ø¯Ù„ÙŠÙ„ Ø¥Ù†Ùƒ ØªØ´ØªØºÙ„ Ø¹Ù„Ù‰ Ù†ÙØ³Ùƒ Ø¨Ø¬Ø¯. Ø§Ø³ØªÙ…Ø± ÙˆÙ…Ø§ Ø±Ø§Ø­ ØªØªÙˆÙ‚Ù Ø¹Ù† Ø§Ù„Ø§Ø±ØªÙ‚Ø§Ø¡.' },
            excellent:{ e:'ğŸŒŸ', t:'rgba(196,181,253,0.95)', bg:'rgba(99,102,241,0.09)',  bd:'rgba(139,92,246,0.25)',
                m:'Ù†ØªÙŠØ¬Ø© ØªØ¹Ø¨Ù‘Ø± Ø¹Ù† Ù…Ø¬Ù‡ÙˆØ¯ Ø­Ù‚ÙŠÙ‚ÙŠ â€” '+pct+'% Ù…Ùˆ Ù…ØµØ§Ø¯ÙØ©. Ø£Ù†Øª Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ØµØ­ØŒ ÙƒÙ…Ù‘Ù„ ÙˆÙ„Ø§ ØªÙƒØ³Ø± Ø§Ù„Ø²Ø®Ù….' },
            veryGood: { e:'ğŸ’ª', t:'rgba(251,191,36,0.95)',  bg:'rgba(251,191,36,0.06)',  bd:'rgba(251,191,36,0.18)',
                m:'ØªØ®ÙŠÙ‘Ù„ Ù„Ùˆ ØªØ¯Ø±Ø¨Øª ÙŠÙˆÙ…ÙŠØ§Ù‹ ÙˆÙŠÙ† ØªÙƒÙˆÙ† Ø¨Ø¹Ø¯ Ø£Ø³Ø¨ÙˆØ¹ØŸ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙˆÙ† Ù…Ø§ ÙˆÙ„Ø¯ÙˆØ§ Ù…ØªÙÙˆÙ‚ÙŠÙ† â€” ÙŠØªØ¯Ø±Ø¨ÙˆÙ† Ø¨Ø´ÙƒÙ„ Ù…Ø®ØªÙ„Ù.' },
            good:     { e:'ğŸ”¥', t:'rgba(251,191,36,0.9)',   bg:'rgba(251,191,36,0.05)',  bd:'rgba(251,191,36,0.15)',
                m:'ÙƒÙ„ Ø³Ø¤Ø§Ù„ Ø£Ø®Ø·Ø£Øª ÙÙŠÙ‡ Ù‡Ùˆ Ù…Ø¹Ù„ÙˆÙ…Ø© Ø¬Ø¯ÙŠØ¯Ø© ØªØ³ÙƒÙ† Ø¯Ù…Ø§ØºÙƒ. Ø±Ø§Ø¬Ø¹ Ø£Ø®Ø·Ø§Ø¦Ùƒ ÙˆØ¹ÙˆØ¯ Ø£Ù‚ÙˆÙ‰.' },
            start:    { e:'âš¡ï¸', t:'rgba(248,163,113,0.95)', bg:'rgba(239,68,68,0.06)',   bd:'rgba(239,68,68,0.18)',
                m:'Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù„ÙŠ ÙŠÙ†Ø¬Ø­ ÙˆØ§Ù„Ù„ÙŠ Ù…Ø§ ÙŠÙ†Ø¬Ø­ â€” Ø¥Ù†Ù‡ Ù…Ø§ ÙˆÙ‚Ù. Ø±Ø§Ø¬Ø¹ Ø£Ø®Ø·Ø§Ø¦Ùƒ ÙˆØ¹ÙˆØ¯ Ù…Ù† Ø¬Ø¯ÙŠØ¯.' }
        };

        const m = pct>=98 ? msgs.perfect : pct>=85 ? msgs.excellent : pct>=70 ? msgs.veryGood : pct>=50 ? msgs.good : msgs.start;

        document.getElementById('resultEmoji').textContent    = m.e;
        document.getElementById('motivMsg').textContent       = m.m;
        document.getElementById('motivMsg').style.color       = m.t;
        document.getElementById('motivBox').style.background  = m.bg;
        document.getElementById('motivBox').style.border      = '1px solid ' + m.bd;
        document.getElementById('finalPercentage').textContent = pct + '%';
        document.getElementById('finalPercentage').style.color = m.t;
        document.getElementById('finalScore').textContent     = correct + ' Ù…Ù† Ø£ØµÙ„ ' + total + ' Ø³Ø¤Ø§Ù„';
        document.getElementById('correctAnswers').textContent  = correct;
        document.getElementById('wrongAnswers').textContent    = wrong;

        function tryAgain()      { window.location.href = 'select-section.html'; }
        function goToDashboard() { localStorage.removeItem('quiz_results'); window.location.href = 'dashboard.html'; }
        function reviewMistakes(){ window.location.href = 'mistakes.html'; }
        function goShare()       { window.location.href = 'share-result.html'; }

        setTimeout(function(){ localStorage.removeItem('quiz_results'); }, 3600000);
    </script>
</body>
</html>
